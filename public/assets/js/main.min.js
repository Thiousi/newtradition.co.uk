function hasClass(e,t){return new RegExp(" "+t+" ").test(" "+e.className+" ")}function toggleClass(e,t){var a=" "+e.className.replace(/[\t\r\n]/g," ")+" ";if(hasClass(e,t)){for(;a.indexOf(" "+t+" ")>=0;)a=a.replace(" "+t+" "," ");e.className=a.replace(/^\s+|\s+$/g,"")}else e.className+=" "+t}function loadMore(){$.ajax({url:ajaxURL,type:"post",dataType:"json",data:{amount:amount,offset:offset}}).done(function(e){$(".btn-load").before(e[0]),e[1]||$(".btn-load").unbind("click",loader)}),offset+=3*amount+1}window.onload=function(){document.getElementsByTagName("body")[0].className=document.getElementsByTagName("body")[0].className.replace(/(?:^|\s)preload(?!\S)/,"")};var btnMenu=document.querySelector(".btn-menu"),navMenu=document.querySelector(".menu");null!==btnMenu&&btnMenu.addEventListener("click",function(e){toggleClass(this,"active"),toggleClass(navMenu,"active")});var btnShare=document.querySelector(".btn-share");null!==btnShare&&btnShare.addEventListener("click",function(e){toggleClass(this.parentNode,"active")}),"ontouchstart"in document.documentElement&&(document.getElementsByTagName("body")[0].className+=" touch-device");var disqusThread=document.getElementById("disqus_thread"),disqusShortname="newtraditiontest";null!==disqusThread&&!function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="//"+disqusShortname+".disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)}();var journal=document.querySelector(".journal"),home=document.querySelector(".home"),loader=function(){return loadMore(),!1},btnLoad=document.querySelector(".btn-load");if(null!==btnLoad){$(btnLoad).bind("click",loader);var amount=2,offset=3*amount+1;if(null!==journal)var ajaxURL="../ajax-journal";else if(null!==home)var ajaxURL="../ajax-home"}if(-1!=window.location.href.indexOf("tag:")){var feature=document.querySelector(".featured");feature.style.display="none";var tagTitle=document.querySelector(".tag-title"),tagTitleText=window.location.pathname.split(":");tagTitle.innerHTML=tagTitleText[tagTitleText.length-1],tagTitle.style.display="block";for(var url=document.URL,tagBtn=document.querySelectorAll(".tag"),i=0;i<tagBtn.length;i++)tagBtn[i].getAttribute("href")===url&&(tagBtn[i].className+=" active")}